"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const f=require("fs"),l=require("path"),a=(r=>r&&typeof r=="object"&&"default"in r?r:{default:r})(f);function p(){return()=>{}}function m(r){return r}function d(){}function h(r){if(Array.isArray(r))return function(n){return n.map(u=>h(u))}(r);r=function(n={}){return function(u=p,e=m,o=d,y={}){n.src=u,n.proc=e,n.sink=o,n.meta=y}(n.src,n.proc,n.sink,n.meta),n}(r);let t=r.src(),i=r.proc(t,r.meta);return r.sink(i,r.meta)}function c(r,t){return i=>r(i,t)}function s(r){return typeof r=="object"?l.format(r):r}exports.bypass=m,exports.dummySink=d,exports.dummySrc=p,exports.file=function(r,t="utf-8"){return r=s(r),()=>a.default.readFileSync(r,t)},exports.meta=c,exports.mkfile=function(r,t){let i=s(t.path);const n=l.dirname(i);f.mkdirSync(n,{recursive:!0}),f.writeFileSync(i,r.toString(),t.options)},exports.parallel=function(...r){return(t,i)=>r.map(n=>n(t,i))},exports.print=function(r){console.log(r)},exports.readFile=function(r,t){return r=s(r),a.default.readFileSync(r,t.options||"utf-8")},exports.ret=function(r){return r},exports.series=function(...r){return(t,i)=>r.reduce((n,u)=>u(n,i),t)},exports.stream=function(r,t,i){let n,u;return{src(e){return r=e(),this},done:()=>i,meta(e){return t=e,this},useProc(e){return n=e,this},proc(e){return typeof e=="object"&&(e=c(n,e)),r=e(r,t||{}),this},useSink(e){return u=e,this},sink(e){return typeof e=="object"&&(e=c(u,e)),i=e(r,t||{}),this},series(...e){return e.forEach(o=>this.proc(o)),this},parallel(...e){return e.forEach(o=>this.sink(o)),this},exec(e,o){return this.meta(o),this.proc(e)}}},exports.val=function(r){return()=>r},exports.vesic=h;
