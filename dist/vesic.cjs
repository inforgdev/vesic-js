"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const c=require("fs"),f=require("path"),S=require("glob/sync.js"),l=t=>t&&typeof t=="object"&&"default"in t?t:{default:t},b=l(c),k=l(S);function p(){return()=>{}}function m(t){return t}function h(){}function y(t){if(Array.isArray(t))return function(r){return r.map(o=>y(o))}(t);t=function(r={}){return function(o=p,i=m,u=h,d={}){r.src=o,r.proc=i,r.sink=u,r.meta=d}(r.src,r.proc,r.sink,r.meta),r}(t);let e=t.src,n=t.proc(e,t.meta);return t.sink(n,t.meta)}function s(t,e){return n=>t(n,e)}function a(t){return typeof t=="object"?f.format(t):t}exports.bypass=m,exports.clean=function t(e,n){return Array.isArray(e)?void e.forEach(r=>t(r)):(e=a(e),k.default(e).forEach(r=>{c.rmSync(r,{recursive:!0,force:!0,...n==null?void 0:n.options})}),e)},exports.dummySink=h,exports.dummySrc=p,exports.meta=s,exports.parallel=function(...t){return(e,n)=>t.map(r=>r(e,n))},exports.print=function(t){console.log(t)},exports.readFile=function(t,e){return t=a(t||(e==null?void 0:e.path)),b.default.readFileSync(t,(e==null?void 0:e.options)||"utf-8")},exports.series=function(...t){return(e,n)=>t.reduce((r,o)=>o(r,n),e)},exports.stream=function(t,e,n){let r,o;return{src(i){return t=i,this},done:()=>n,meta(i){return e=i,this},useProc(i){return r=i,this},proc(i,u){return u&&this.meta(u),typeof i=="object"&&(i=s(r,i)),t=i(t,e||{}),this},useSink(i){return o=i,this},sink(i,u){return u&&this.meta(u),typeof i=="object"&&(i=s(o,i)),n=i(t,e||{}),this},series(...i){return i.forEach(u=>this.proc(u)),this},parallel(...i){return i.forEach(u=>this.sink(u)),this}}},exports.vesic=y,exports.writeFile=function(t,e){let n=a(e==null?void 0:e.path);const r=f.dirname(n);return c.mkdirSync(r,{recursive:!0}),c.writeFileSync(n,t.toString(),e==null?void 0:e.options),t};
