"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("fs"),f=require("path"),y=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(s);function l(){return()=>{}}function p(e){return e}function m(){}function h(e){if(Array.isArray(e))return function(t){return t.map(u=>h(u))}(e);e=function(t={}){return function(u=l,n=p,o=m,d={}){t.src=u,t.proc=n,t.sink=o,t.meta=d}(t.src,t.proc,t.sink,t.meta),t}(e);let r=e.src,i=e.proc(r,e.meta);return e.sink(i,e.meta)}function c(e,r){return i=>e(i,r)}function a(e){return typeof e=="object"?f.format(e):e}exports.bypass=p,exports.dummySink=m,exports.dummySrc=l,exports.meta=c,exports.parallel=function(...e){return(r,i)=>e.map(t=>t(r,i))},exports.print=function(e){console.log(e)},exports.readFile=function(e,r){return e=a(e||(r==null?void 0:r.path)),y.default.readFileSync(e,(r==null?void 0:r.options)||"utf-8")},exports.ret=function(e){return e},exports.series=function(...e){return(r,i)=>e.reduce((t,u)=>u(t,i),r)},exports.stream=function(e,r,i){let t,u;return{src(n){return e=n,this},done:()=>i,meta(n){return r=n,this},useProc(n){return t=n,this},proc(n){return typeof n=="object"&&(n=c(t,n)),e=n(e,r||{}),this},useSink(n){return u=n,this},sink(n){return typeof n=="object"&&(n=c(u,n)),i=n(e,r||{}),this},series(...n){return n.forEach(o=>this.proc(o)),this},parallel(...n){return n.forEach(o=>this.sink(o)),this},exec(n,o){return this.meta(o),this.proc(n)}}},exports.val=function(e){return()=>e},exports.vesic=h,exports.writeFile=function(e,r){let i=a(r==null?void 0:r.path);const t=f.dirname(i);return s.mkdirSync(t,{recursive:!0}),s.writeFileSync(i,e.toString(),r==null?void 0:r.options),e};
