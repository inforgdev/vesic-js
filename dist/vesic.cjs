"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const s=require("fs"),f=require("path"),y=(e=>e&&typeof e=="object"&&"default"in e?e:{default:e})(s);function l(){return()=>{}}function p(e){return e}function m(){}function h(e){if(Array.isArray(e))return function(n){return n.map(o=>h(o))}(e);e=function(n={}){return function(o=l,t=p,u=m,d={}){n.src=o,n.proc=t,n.sink=u,n.meta=d}(n.src,n.proc,n.sink,n.meta),n}(e);let r=e.src,i=e.proc(r,e.meta);return e.sink(i,e.meta)}function c(e,r){return i=>e(i,r)}function a(e){return typeof e=="object"?f.format(e):e}exports.bypass=p,exports.dummySink=m,exports.dummySrc=l,exports.meta=c,exports.parallel=function(...e){return(r,i)=>e.map(n=>n(r,i))},exports.print=function(e){console.log(e)},exports.readFile=function(e,r){return e=a(e||(r==null?void 0:r.path)),y.default.readFileSync(e,(r==null?void 0:r.options)||"utf-8")},exports.series=function(...e){return(r,i)=>e.reduce((n,o)=>o(n,i),r)},exports.stream=function(e,r,i){let n,o;return{src(t){return e=t,this},done:()=>i,meta(t){return r=t,this},useProc(t){return n=t,this},proc(t,u){return u&&this.meta(u),typeof t=="object"&&(t=c(n,t)),e=t(e,r||{}),this},useSink(t){return o=t,this},sink(t,u){return u&&this.meta(u),typeof t=="object"&&(t=c(o,t)),i=t(e,r||{}),this},series(...t){return t.forEach(u=>this.proc(u)),this},parallel(...t){return t.forEach(u=>this.sink(u)),this}}},exports.vesic=h,exports.writeFile=function(e,r){let i=a(r==null?void 0:r.path);const n=f.dirname(i);return s.mkdirSync(n,{recursive:!0}),s.writeFileSync(i,e.toString(),r==null?void 0:r.options),e};
