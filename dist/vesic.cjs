"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("fs"),r=require("path");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t);function o(){return()=>{}}function i(t){return t}function u(){}function s(t){if(Array.isArray(t))return function(t){return t.map((t=>s(t)))}(t);t=function(t={}){return function(r=o,e=i,n=u,s={}){t.src=r,t.proc=e,t.sink=n,t.meta=s}(t.src,t.proc,t.sink,t.meta),t}(t);let r=t.src(),e=t.proc(r,t.meta);return t.sink(e,t.meta)}function c(t,r){return e=>t(e,r)}function f(t){return"object"==typeof t?r.format(t):t}exports.bypass=i,exports.dummySink=u,exports.dummySrc=o,exports.file=function(t,r="utf-8"){return t=f(t),()=>n.default.readFileSync(t,r)},exports.meta=c,exports.mkfile=function(e,n){let o=f(n.path);const i=r.dirname(o);t.mkdirSync(i,{recursive:!0}),t.writeFileSync(o,e.toString(),n.options)},exports.parallel=function(...t){return(r,e)=>t.map((t=>t(r,e)))},exports.print=function(t){console.log(t)},exports.readFile=function(t,r){return t=f(t),n.default.readFileSync(t,r.options||"utf-8")},exports.ret=function(t){return t},exports.series=function(...t){return(r,e)=>t.reduce(((t,r)=>r(t,e)),r)},exports.stream=function(t,r,e){let n,o;return{src(r){return t=r(),this},done:()=>e,meta(t){return r=t,this},useProc(t){return n=t,this},proc(e){return"object"==typeof e&&(e=c(n,e)),t=e(t,r||{}),this},useSink(t){return o=t,this},sink(n){return"object"==typeof n&&(n=c(o,n)),e=n(t,r||{}),this},series(...t){return t.forEach((t=>this.proc(t))),this},parallel(...t){return t.forEach((t=>this.sink(t))),this},exec(t,r){return this.meta(r),this.proc(t)}}},exports.val=function(t){return()=>t},exports.vesic=s;
